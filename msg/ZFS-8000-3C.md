# 消息 ID：ZFS-8000-3C

## 非复制配置中设备缺失

| **类型：**   | 错误               |
| :--------- | :---------------- |
| **严重性：**  | 紧急               |
| **描述：**   | 某个设备无法打开且没有可用副本 |
| **自动响应：** | 不会采取自动响应     |
| **影响：**   | 存储池不再可用       |

## 系统管理员建议操作

### 对于活动池

如果在运行 `zpool import` 时遇到此错误，请参见下文。否则，请运行 `zpool status -x` 来确定哪个池发生了故障：

```sh
# zpool status -x
  pool: test
 state: FAULTED
status: One or more devices could not be opened.  There are insufficient
        replicas for the pool to continue functioning.
action: Attach the missing device and online it using 'zpool online'.
   see: https://openzfs.github.io/openzfs-docs/msg/ZFS-8000-3C
 scrub: none requested
config:

        NAME                  STATE     READ WRITE CKSUM
        test                  FAULTED      0     0     0  insufficient replicas
          c0t0d0              ONLINE       0     0     0
          c0t0d1              FAULTED      0     0     0  cannot open

errors: No known data errors
```

如果设备被临时从系统分离，请将设备重新附加到系统并再次运行 `zpool status`。存储池应自动检测新附加的设备并恢复运行。您可能需要使用 `zfs mount -a` 显式挂载池中的文件系统。

如果设备不再可用且无法重新附加到系统，则必须销毁存储池并从备份源重新创建。

### 对于已导出的池

如果在 `zpool import` 期间遇到此错误，表示系统未附加某个设备：

```sh
# zpool import
  pool: test
    id: 10121266328238932306
 state: FAULTED
status: One or more devices are missing from the system.
action: The pool cannot be imported.  Attach the missing devices and try again.
        see: https://openzfs.github.io/openzfs-docs/msg/ZFS-8000-3C
config:

        test              FAULTED   insufficient replicas
          c0t0d0          ONLINE
          c0t0d1          FAULTED   cannot open
```

在缺失设备附加到系统之前，无法导入该池。如果设备已放置在其他位置，可使用 `zpool import` 的选项 `-d` 在不同目录中搜索设备。如果缺失设备不可用，则无法导入该池。

## 详情

消息 ID：`ZFS-8000-3C` 表示 ZFS 子系统无法打开某个设备。
