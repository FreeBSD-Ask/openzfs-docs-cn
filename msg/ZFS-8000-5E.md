# 消息 ID：ZFS-8000-5E

## 非复制配置中设备标签损坏

| **类型：**   | 错误                            |
| --------- | ----------------------------- |
| **严重性：**  | 紧急                           |
| **描述：**   | 由于设备标签缺失或无效，某个设备无法打开，且没有可用副本 |
| **自动响应：** | 不会采取自动响应                     |
| **影响：**   | 存储池不再可用                     |


## 系统管理员建议操作

### 对于活动池

如果在运行 `zpool import` 时遇到此错误，请参见下文。否则请运行 `zpool status -x` 来确定哪个池出现了故障：

```sh
# zpool status -x
  pool: test
 state: FAULTED
status: One or more devices could not be used because the the label is missing
        or invalid.  There are insufficient replicas for the pool to continue
        functioning.
action: Destroy and re-create the pool from a backup source.
   see: https://openzfs.github.io/openzfs-docs/msg/ZFS-8000-5E
 scrub: none requested
config:

        NAME        STATE     READ WRITE CKSUM
        test        FAULTED      0     0     0  insufficient replicas
          c0t0d0    FAULTED      0     0     0  corrupted data
          c0t0d1    ONLINE       0     0     0

errors: No known data errors
```

标记为 FAULTED 且显示 “corrupted data” 的设备因标签损坏而无法打开。ZFS 无法使用该池，池内的所有数据将不可恢复。必须从适当的备份源销毁并重新创建存储池。使用复制配置可以防止此类情况在未来发生。

### 对于已导出的池

如果在 `zpool import` 期间遇到此错误，处理方式相同。存储池无法导入——所有数据丢失，必须从适当的备份源恢复。

## 详情

消息 ID：`ZFS-8000-5E` 表示 ZFS 子系统无法打开某个设备。
